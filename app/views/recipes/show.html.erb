<%= javascript_pack_tag 'recipes' %>

<p>
  <strong>Name:</strong>
  <%= @recipe.name %>
</p>

<p>
  <strong>Preptime:</strong>
  <%= @recipe.preptime %>
</p>

<p>
  <strong>Cooktime:</strong>
  <%= @recipe.cooktime %>
</p>

<p>
  <strong>Serving:</strong>
  <%= @recipe.serving %>
</p>

<img src=<%=(url_for(@recipe.image))%>>

<p><%= @recipe.description%></p>


<h3>Instructions</h3>
  <ol>
    <% for @step in @recipe.steps %>
      <li><%= @step.instruction %></li>
    <% end %>
  </ol>

  <h3>Ingredients</h3>
  <ol>
    <% for @recipe_ingredient in @recipe.recipe_ingredients %>
      <li><%= @recipe_ingredient.quantity%> <%= @recipe_ingredient.unit.name%> <%= @recipe_ingredient.ingredient.name%> </li>
    <% end %>
  </ol>

<%# Comment Section %>
<div>
  <h2>Comments<h2>
  
  <%# only signed in users are able to add comments %>
  <% if user_signed_in? %>
    <div>
      <%= render 'comment', comment: @comment %>
    </div>
  <% else %>
    <p> <%= link_to('Login', new_user_session_path)  %> to comment</p>
  <% end %>
  <% @recipe.comments.each do |comment| %>
    <p><%=comment.inspect%></p>
  <% end %>


</div>

<%= link_to 'Edit', edit_recipe_path(@recipe) %> |
<%= link_to 'Back', recipes_path %>